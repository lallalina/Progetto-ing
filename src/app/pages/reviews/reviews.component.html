<!--Navbar-->
<app-navbar></app-navbar>

<!--fai una recensione-->
<div class="container">
  <h1>LASCIACI UNA RECENSIONE</h1>
  <div class="row card-body">
    <div class="col">
      <mat-card class="card">
        <form
          (ngSubmit)="doReview()"
          [formGroup]="form"
        >
          <mat-card-content class="card-content">
            <!--valutazione-->
            <div class="form-group col-12">
              <b><label>VALUTAZIONE:</label></b><strong>*</strong>
              <input
                type="number"
                step="'0.01"
                formControlName="valutazione"
                placeholder="max 5"
                max="5"
              />
              <!--check-->
              <div
                *ngIf="
                  form &&
                  form.controls['valutazione'].invalid &&
                  (form.controls['valutazione'].dirty || form.controls['valutazione'].touched)
                "
                class="form-error"
              >
                <div *ngIf="form.controls['valutazione'].errors?.['required']">
                  inserisci un punteggio
                </div>
              </div>
              <small>massimo un punteggio di 5 punti</small>
            </div>
            <!--descrizione-->
            <div class="form-group col-12">
              <b><label>DESCRIZIONE:</label></b><textarea formControlName="descrizione"></textarea>
            </div>
          </mat-card-content>
          <mat-card-actions>
            <button
              mat-button
              type="submit"
              *ngIf="!loading; else loader"
            >
              INVIA
            </button>
          </mat-card-actions>
        </form>
      </mat-card>
    </div>
  </div>
</div>

<!--footer-->
<app-footer></app-footer>

<ng-template #loader>
  <app-loader></app-loader>
</ng-template>