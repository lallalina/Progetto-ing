<!--Navbar-->
<app-navbar></app-navbar>

<div class="container-fluid">
  <h1>I tuoi acquisti</h1>

  <!--riepilogo acquisti-->
  <div class="row">
    <div class="col-9">
      <app-table
        *ngIf="carrello && carrello.prodotto.length"
        [data]="carrello.prodotto"
      >
        <ng-template #headers>
          <th></th>
          <th>Prodotto</th>
          <th>Prezzo</th>
          <th>Quantità</th>
          <th>Elima Prodotto</th>
        </ng-template>
        <ng-template #rows let-row>
          <th>{{ row.immagine }}</th>
          <td>{{ row.nome }}</td>
          <td>{{ row.prezzo | currency: "EUR" }}</td>
          <td>{{ carrello.countTot }}</td>
          <td (click)="deletElement(row.id)">
            <i class="fa-solid fa-trash-can"></i>
          </td>
        </ng-template>
      </app-table>
      <h2 class="text-white">
        Totale: {{ carrello.prezzoTot | currency: "EUR" }}
      </h2>
      <button (click)="clearCart()">pulisci carrello</button>
    </div>

    <!--FORM-->
    <div class="col-3">
      <form [formGroup]="form" (ngSubmit)="ordina()">
        <div class="form-group">
          <label>Città:</label>
          <input
            type="text"
            class="form-control"
            placeholder="città"
            formControlName="city"
          />
          <label>Indirizzo:</label>
          <input
            type="text"
            class="form-control"
            placeholder="indirizzo"
            formControlName="indirizzo"
          />
        </div>
        <div class="col-3" *ngIf="indirizzi">
          <h3>i tuoi indirizzi</h3>
          <div *ngFor="let indirizzo of indirizzi">
            <select>
              {{
                indirizzo.id
              }}
            </select>
          </div>
        </div>
        <button type="submit" class="btn" id="button">Ordina</button>
      </form>
    </div>
  </div>
</div>

<!--Footer-->
<app-footer></app-footer>
